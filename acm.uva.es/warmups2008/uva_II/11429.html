<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head>


<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 11">
<meta name="Originator" content="Microsoft Word 11">
<link rel="File-List" href="http://icpcres.ecs.baylor.edu/onlinejudge/contests/195-5b653783/c_files/filelist.xml">
<link rel="Edit-Time-Data" href="http://icpcres.ecs.baylor.edu/onlinejudge/contests/195-5b653783/c_files/editdata.mso"><!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><title>Problem C - Randomness</title><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Shahriar Manzoor</o:Author>
  <o:LastAuthor>manzoor</o:LastAuthor>
  <o:Revision>156</o:Revision>
  <o:TotalTime>188</o:TotalTime>
  <o:LastPrinted>2008-03-13T07:52:00Z</o:LastPrinted>
  <o:Created>2004-05-17T15:23:00Z</o:Created>
  <o:LastSaved>2008-03-20T16:11:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>297</o:Words>
  <o:Characters>1694</o:Characters>
  <o:Company>ACM/ICPC</o:Company>
  <o:Lines>14</o:Lines>
  <o:Paragraphs>3</o:Paragraphs>
  <o:CharactersWithSpaces>1988</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
  <w:Zoom>150</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->



<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:TimesNewRoman;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	color:black;
	mso-font-kerning:0pt;
	font-weight:normal;
	font-style:italic;}
h2
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:12.0pt;
	font-family:Arial;
	font-weight:bold;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;
	font-weight:bold;}
h4
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:normal;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:7;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:18.0pt;
	mso-bidi-font-size:1.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:TimesNewRoman;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:24.0pt;
	mso-bidi-font-size:1.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:#772222;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Courier New";}
p.Preformatted, li.Preformatted, div.Preformatted
	{mso-style-name:Preformatted;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:0in 47.95pt 95.9pt 143.85pt 191.8pt 239.75pt 287.7pt 335.65pt 383.6pt 431.55pt 479.5pt;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
span.StyleArial16pt
	{mso-style-name:"Style Arial 16 pt";
	mso-ansi-font-size:16.0pt;
	font-family:Arial;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	font-weight:bold;}
span.Typewriter
	{mso-style-name:Typewriter;
	mso-style-parent:"";
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style><!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->

<meta content="" name="Author">
<meta content="" name="Keywords">
<meta content="" name="Description"><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="17410"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]--></head><body style="" lang="EN-US" link="#772222" vlink="purple">

<div class="Section1">

<p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 28pt; font-family: Arial;">Problem C</span></b><span style="font-family: Arial;"><br>
</span><b style=""><span style="font-size: 18pt; font-family: Arial;">Randomness </span></b><span style="font-family: Arial;"><br>
<b style="">Input: </b><span style="">Standard Input</span></span><span style="font-size: 18pt; font-family: Arial;"><o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-family: Arial;">Output: </span></b><span style="font-family: Arial;">Standard Output </span><span style="font-family: Arial; color: black;"><o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: Arial; color: black;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align: justify;">Efficient generation of "true" random numbers is
an interesting problem in Computer Science.<span style="">&nbsp;
</span>The reasonably fast random number generators (<span class="SpellE">RNGs</span>)
that are provided in code libraries are usually merely
"pseudorandom".<span style="">&nbsp; </span>They have a
finite cycle length and their low-order bits can be predictable to some extent.</p>

<p class="MsoNormal" style="text-align: justify;"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="text-align: justify;">Even if the <span class="SpellE">RNGs</span> themselves
could be perfect, their common usage is not.<span style="">&nbsp;
</span>For instance, if you have a function that returns a true random integer
between 1 and 100 inclusive, and you want to choose between three events, each
with probability 1/3, you cannot do it with just one RNG call.</p>

<p class="MsoNormal" style="text-align: justify;"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="text-align: justify;">However, if we allow for making more RNG calls if necessary,
it is possible to achieve a perfectly uniform distribution over the three
events.<span style="">&nbsp; </span>In fact, any perfect RNG can be
used to choose among ANY set of events and associated probabilities with
perfect accuracy.</p>

<p class="MsoNormal" style="text-align: justify;"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="text-align: justify;">Assume that you have access to a perfect RNG that returns
numbers between 1 and R inclusive, and the desired probabilities of N disjoint
events.<span style="">&nbsp; </span>You must determine an algorithm
that uses the RNG to choose among the events with exactly the correct
probability, while minimizing the expected (average) number of RNG calls.</p>

<p class="MsoNormal" style="text-align: justify;"><b><i><span style="color: black;"><o:p>&nbsp;</o:p></span></i></b></p>

<h4 style="text-align: justify;"><b><span style="font-size: 16pt; font-family: Arial;">Input</span></b><b><span style=""><o:p></o:p></span></b></h4>

<p class="MsoNormal" style="text-align: justify;">Input will consist of at most 32 cases, each consisting of
two lines.<span style="">&nbsp; </span>The first line will contain
two integers, R and N, satisfying 2 &#8804; R &#8804; 1000 and 2 &#8804; N &#8804;
1000.<span style="">&nbsp; </span>The second line will contain N
pairs of integers <span class="SpellE">a<sub>i</sub></span> and b<sub>i</sub>,
with 1 &lt;= <span class="SpellE">a<sub>i</sub></span> &lt; b<sub>i</sub> &lt;=
1000.<span style="">&nbsp; </span>The desired probability of event <span class="SpellE">i</span> is <span class="SpellE">a<sub>i</sub></span> /b<sub>i</sub>.<span style="">&nbsp; </span>The sum of the N probabilities will be 1.</p>

<p class="MsoNormal" style="text-align: justify;"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="text-align: justify;">Input will be terminated by a line containing two zeros.</p>

<p class="MsoNormal" style="text-align: justify;"><span style=""><o:p>&nbsp;</o:p></span></p>

<h4><b><span style="font-size: 16pt; font-family: Arial;">Output<o:p></o:p></span></b></h4>

<p class="MsoNormal" style="text-align: justify;">For each case, output, rounded to six fractional digits,
the minimum expected number of random number generator calls required to decide
among the events.</p>

<p class="MsoNormal" style="text-align: justify;"><b><span style="font-family: &quot;Courier New&quot;;"><o:p>&nbsp;</o:p></span></b></p>

<h1 style="text-align: left;" align="left"><b><span style="font-size: 16pt; font-family: Arial; font-style: normal;">Sample Input<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Output for
Sample Input<o:p></o:p></span></b></h1>

<table class="MsoNormalTable" style="border: medium none ; background: rgb(204, 204, 204) none repeat scroll 0%; width: 100%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; border-collapse: collapse;" border="1" cellpadding="0" cellspacing="0" width="100%">
 <tbody><tr style="">
  <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; width: 48.76%;" valign="top" width="48%">
  <p class="MsoNormal"><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">100 3<o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">1 3 1 3 1 3<o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">2 4<o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">1 4 1 4 1 4 1 4<o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">0 <span class="SpellE">0</span><o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-family: &quot;Courier New&quot;;"><o:p>&nbsp;</o:p></span></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; width: 51.24%;" valign="top" width="51%">
  <p class="MsoNormal" style=""><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">1.010101<o:p></o:p></span></p>
  <p class="MsoNormal" style=""><span style="font-size: 11pt; font-family: &quot;Courier New&quot;;">2.000000<o:p></o:p></span></p>
  <p class="MsoNormal"><span style="font-family: &quot;Courier New&quot;;"><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</tbody></table>

<div class="MsoNormal" style="text-align: center;" align="center"><span style="" lang="EN">

<hr align="center" size="2" width="100%">

</span></div>

<p class="Preformatted"><span class="SpellE"><span class="Typewriter"><b style=""><span style="font-size: 12pt; font-family: Arial;">Problemsetter</span></b></span></span><span class="Typewriter"><b style=""><span style="font-size: 12pt; font-family: Arial;">: Derek <span class="SpellE">Kisman</span></span></b></span><span style="font-family: &quot;Times New Roman&quot;;" lang="EN"><o:p></o:p></span></p>

</div>


</body></html>