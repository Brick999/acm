<html><head>

<script language="javascript">
<!--
    var endtime;
    
    function initcount(secondsleft) {
        var now = new Date();
        return now.getTime() + secondsleft*1000;
    }
    function count1(i) { i = i - i%1; return i; } 
    function count2(i) { i = i - i%1; if (i < 10) return "0"+i; return i; }
    function updateclock(head, word, endtime) {
        var now = new Date();
        var delta = (endtime - now.getTime())/1000;
        var s, x;
        if(delta < 1)
            s = head + " has ended";
        else{
            s = head + " ends: ";
            s = head + ": ";
            if(delta >= 24*3600)
                s = s + count1(delta/86400) + "d ";
            if(delta >= 3600)
                s = s + count2((delta/3600)%24) + "h ";
            if(delta >= 60)
                s = s + count2((delta/60)%60) + "m ";
            s = s + count2(delta%60) + "s";
            setTimeout("updateclock('"+head+"','"+word+"',"+endtime+")", 500);
        }

        var slot = document.getElementById(word);
        slot.innerHTML = s;
    }
-->
</script>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>USACO Problems</title></head><body onload="endtime = initcount(260277); updateclock('Elite March,  2006', 'Contest', endtime); endtime = initcount(10799); updateclock('Your Contest Session', 'Person', endtime);" bgcolor="#eeffee">
<center>
<table><tbody><tr>
<td>
<!--<center><img src='/usaco/cow1.jpg' width='742' height='118'></center>-->
<center><img src="gold-ru_files/cow1.jpg" height="88" width="550"></center>
</td>
<td valign="top">
<table>
    <tbody><tr><td valign="top"><b>GOLD</b> Division<br></td></tr>
    <tr><td><div id="Contest">Elite March,  2006: 3d 00h 17m 09s</div></td></tr>
    <tr><td><div id="Person">Your Contest Session: 02h 59m 11s</div></td></tr>
    <tr><td></td></tr>
</tbody></table>
</td><td></td></tr>
</tbody></table>
</center>


<pre></pre>
<pre>**********************************************************************
                           GOLD PROBLEMS
**********************************************************************
                  Три задачи с номерами от 1 до 3
**********************************************************************

Problem 1: Ski Lift [Adam Rosenfield, 2004]

    Фермер Рон строит в Колорадо лыжный курорт для своих коров,
правда денег ему сейчас хватает только на один подъемник. Этот
подъемник будет сделан как монорельсовая железная дорога,
соединяющая стартовую и конечную точки через некоторое количество
промежуточных точек, каждая на высоте 0 над поверхностью своего
расположения. Каждую пару соседних точек соединяет стальная
конструкция в виде отрезка прямой линии. Каждая точка такой прямой
должна лежать не ниже поверхности земли всеми своими точками.
    Будучи человеком рачительным, ФР хочет минимизировать количество
точек поддержки железной дороги, которое он должен построить. Он
рассмотрел  N (2 &lt;= N &lt;= 5,000) точек на равном расстоянии друг
от друга, через которые должен проходить подъемник и выписал высоту
H (0 &lt;= H &lt;= 1,000,000,000) каждой из них. Правила безопасности
требуют, чтобы ФР строил соседние точки поддержки не более чем через
K (1 &lt;= K &lt;= N - 1) точек. Сталь жесткая и потому соседние точки
поддержки должны соединяться отрезком прямой.
    Помогите ФР вычислить минимальное количество точек поддержки
железной дороги так, чтобы каждый участок железной дороги лежал выше
или касался любого участка земли под ним, две соседних точки поддержки
отстояли не более чем на K единиц расстояния по горизонтали друг от
друга и первая точка поддержки была в начале пути, а последняя - в
конце пути.

PROBLEM NAME: skilift

INPUT FORMAT:

* Строка 1: Два разделенных пробелом целых числа N и K

* Строки 2..N+1: Строка i+1 содержит одно целое число - высоту
                 точки i

SAMPLE INPUT (файл skilift.in):

13 4
0
1
0
2
4
6
8
6
8
8
9
11
12

OUTPUT FORMAT:

* Строка 1: Одно целое число - минимальное количество точек
            поддержки, требуемое ФР для постройки подъемника
            при описанных выше условиях

SAMPLE OUTPUT (файл skilift.out):

5

OUTPUT DETAILS:

     Фермер Рон строит пять точек поддержки (в позициях 1, 5, 7, 9,
и 13). Сталь касается земли в четырех участках: 1-5, 5-7, 7-9, 12-13.
     Если ФР построит точки поддержки только в четырех точках: 1, 5,
9, 13, то сталь будет ниже поверхности земли на участке 5-9.
     Если ФР построит точки поддержки в позициях 1, 7, 13, то хотя
рельс всегда будет поверх земли, но позиции 7 и 13 отстоят друг от
друга более чем на 4 единицы по горизонтали. Не существует решения,
использующего менее 5 точек поддержки, и такого, чтобы две
последовательные точки поддержки отстояли по горизонтали друг от
друга не более чем на 4 единицы.

**********************************************************************

Problem 2: Milk Team Select [Percy Liang, 2002]

     N (1 &lt;= N &lt;= 500) коров фермера Джона пытаются отобрать
молочную команду для мирового MMM-чемпионата. Как Вы, конечно,
знаете, любая команда, которая производит не менее X
(1 &lt;= X &lt;= 1,000,000) галлонов молока, становится победителем.
     Каждая корова имеет потенциал "молочного вклада в победу"
от -10,000 до 10,000 галлонов молока. (К сожалению, некоторые
коровы имеют обыкновение переворачивать галлоны с молоком,
произведенным другими коровами.)
     МММ стремится продвигать семейные ценности. Коровы ФД не
сомневаются, что они могут произвести X галлонов молока и победить в
соревновании, но чтобы поддержать дух соревнования, они хотят
послать команду с максимальным количеством родственных связей
(при этом с гарантированным получением не менее X галлонов молока).
Не удивительно, что все коровы ФД женского рода.
     Вам дается дерево родственных отношений коров ФД и количество
молока, которое каждая из них может произвести. Вычислите
максимальное количество родственных пар (родитель-ребенок), которые
могут существовать в команде-победительнице. Учтите, что тройка
коров "бабушка-мама-дочка" добавляет две "родственные пары":
"бабушка-мама" и "мама-дочка".

PROBLEM NAME: tselect

INPUT FORMAT:

* Строка 1: Два разделенных пробелом целых числа N и X.

* Строки 2..N+1: Строка i+1 содержит два разделенных пробелом целых
            числа, описывающих корову i. Первое целое число -
            количество галлонов молока, которое может внести корова
            i. Второе целое число - (в диапазоне от 1 до N) - индекс
            матери этой коровы. Если мама этой коровы неизвестна, то
            второе число равно 0. Информация о родственных отношениях
            не имеет циклов. То есть корова не может быть
            собственной матерью, бабушкой и т.д.
            
SAMPLE INPUT (файл tselect.in):

5 8
-1 0
3 1
5 1
-3 3
2 0

INPUT DETAILS:

Всего есть 5 коров. Корова 1 может произвести -1 галлон молока и у
нее две дочки - коровы 2 и 3, которые могут произвести 3 и 5
галлонов молок соответственно. Корова 3 имеет дочку - корову 4,
которая может произвести -3 галлона. Также есть корова 5, которая
может произвести 2 галлона.

OUTPUT FORMAT:

* Строка 1: Максимальное количество родственных отношений
            "мама-дочка" возможных в команде-победительнице.
            Выведите -1, если не существует команды-победительницы.

SAMPLE OUTPUT (файл tselect.out):

2

OUTPUT DETAILS:

    Лучшая команда состоит из коров 1, 2, 3, 5. Вместе они могут
произвести (-1)+3+5+2 = 9 &gt;= 8 галлонов имеют два родственных
отношения (1--2 и 1--3). Заметим, что команда из коров 2, 3, 5
может произвести больше молоока (10 галлонов), но имеет меньше
родственных отношений (0).

**********************************************************************

Problem 3: Mooo [Brian Dean, 2005]

     N (1 &lt;= N &lt;= 50,000) коров фермера Джона стоят на прямой линии
и мычат. Каждая корова имеет уникальную выстоту h в диапазоне
1..2,000,000,000 нанометров (ФД помешался на точности). Каждая
корова мычит с некоторой громкостью v в диапазоне 1..10,000.
Это мычание распространяется в обе стороны (кроме конечных коров).
Забавно, но мычание слышно только ближайшей коровой в каждом
направлении, рост которой строго больше чем рост мычащей коровы
(поэтому каждая корова может быть услышана 0, 1 или 2 коровами в
зависимости от соотношения ее роста с ростами коров слева и справа).
    Суммарная величина мычания, услышаного данной коровой, есть сумма
всех величин V, мычание которых ее достигло. Поскольку  некоторые
(наиболее высокие) коровы погут быть подвергнуты очень сильному
звуку, ФД хочет купить наушники для коровы, которой "достанется
звука" больше других. Пожалуйста, вычислите наибольшее значение
величины звука услышанного любой из коров.

PROBLEM NAME: mooo

INPUT FORMAT:

* Строка 1: Одно целое число N.

* Строки 2..N+1: Строка i+1 содержит два разделенных пробеллом
            целых числа h и v для коровы, стоящей на позиции i.

SAMPLE INPUT (файл mooo.in):

3
4 2
3 5
6 10

INPUT DETAILS:

Три коровы: первая с высотой 4 и громкостью мычания 2 и т.д.

OUTPUT FORMAT:

* Строка 1: Наибольшую величину громкости мычания, услышанного
            одной из коров.

SAMPLE OUTPUT (файл mooo.out):

7

OUTPUT DETAILS:

Третья корова услышит мычание первой и второй коровы 2+5=7. Хотя
третья корова мычит с громкостью 10, ее никто не услышит.

**********************************************************************

Translation by Michael Dolinsky
</pre><hr>
<form action="/ioiupload" enctype="multipart/form-data" method="post">
<input name="a" value="7PRDe29uyYA" type="hidden">


<table bgcolor="#000000" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td height="1"></td><td>

</td></tr><tr><td width="1"></td><td>

<table bgcolor="#bfffbf" cellpadding="5">
<tbody><tr><td>Use this form to submit a program for grading:</td>
<td rowspan="3"><input value="Submit" name="submit" type="submit"></td>
</tr><tr><td width="60%"><b>Program File:</b><input name="filename" type="file"></td>
    </tr>
</tbody></table>
</td><td width="1"></td>

</tr><tr height="1"><td></td><td></td></tr>
</tbody></table>
<hr>
Nothing is currently saved for grading.
<hr>
<center>
<a href="http://ace.delos.com/ioiedit?a=7PRDe29uyYA">Edit your database record</a>
&nbsp;|&nbsp;
<a href="http://ace.delos.com/ioiupload?a=7PRDe29uyYA&amp;logout=1"> Logout </a>
<!--<a href="https://ace.delos.com/rules.html" target="_blank"> Rules </a>-->
&nbsp;|&nbsp;
<a href="http://ace.delos.com/ioiupload?init=1&amp;a=7PRDe29uyYA">Main contest index</a>
</center>
<!--&nbsp;|&nbsp;-->
<center>
<a href="http://ace.delos.com/ioiupload?a=7PRDe29uyYA&amp;showsubmit">See submitted solutions</a>
&nbsp;|&nbsp;
<a href="http://ace.delos.com/ioiupload?a=7PRDe29uyYA&amp;suggestionbox">Send message
to contest director</a><br>
Director is not online<br>
This page was generated at 14:42:03 GMT.
</center>

</form></body></html>